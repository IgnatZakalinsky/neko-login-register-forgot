(this["webpackJsonplogin-register-forgot"]=this["webpackJsonplogin-register-forgot"]||[]).push([[0],{37:function(e,t,n){e.exports=n(67)},42:function(e,t,n){},43:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),o=n.n(c),l=(n(42),n(43),n(12)),s=n(3),u=n(4),i=function(e){var t=e.email,n=e.password,r=e.loading,c=e.success,o=e.error,s=e.rememberMe,u=e.signInRememberMeCallback,i=e.signInSetEmailCallback,m=e.signInSetPasswordCallback,g=e.signInCallback;return"string"!==typeof o&&(o=JSON.stringify(o)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"sign-in",r&&a.a.createElement("div",{style:{color:"orange"}},"loading..."),c&&a.a.createElement("div",{style:{color:"lime"}},"Success!"),o&&a.a.createElement("div",{style:{color:"red"}},o),a.a.createElement("div",null,a.a.createElement("input",{value:t,onChange:function(e){return i(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("input",{value:n,onChange:function(e){return m(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(l.b,{to:Y},"Forgot password?")),a.a.createElement("div",null,a.a.createElement("button",{onClick:g},"Sign In")),a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",checked:s,onChange:function(e){return u(e.currentTarget.checked)}}),"Remember Me"),a.a.createElement("div",null,a.a.createElement(l.b,{to:X},"Registration")))},m=n(7),g=function(e){return{type:"SIGN_IN/SUCCESS",success:e}},d=function(e){return{type:"SIGN_IN/ERROR",error:e}},f=n(2),E=n.n(f),b=n(15),v=n.n(b),p="https://ancient-gorge-20298.herokuapp.com/",h=v.a.create({baseURL:p}),O=function(e,t,n){var r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(h.post("/auth/login",{email:e,password:t,rememberMe:n}));case 2:return r=a.sent,a.abrupt("return",r.data);case 4:case"end":return a.stop()}}))},S=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)^1+(e.length-n)%32);return t},k=function(e){return{type:"NEKO/SET_NAME",name:e}},w=function(e,t,n){document.cookie="".concat(e,"=").concat(t,";max-age=").concat(n,";path=/")},y=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},C=/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,7}$/i,j=function(e){return C.test(e)},R=function(e){return e.length>7},I=v.a.create({baseURL:p}),x=function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(I.post("/auth/me",{token:e}));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},N=function(){return function(e,t){var n,r;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k("Loading...")),n=y("token")||"",t.prev=2,t.next=5,E.a.awrap(x(n));case 5:(r=t.sent).error?(e(k(r.error)),console.log("Neko Get Me Error!",r.error,n),w("token","",-1e3)):(e(k(r.name)),w("token",r.token,172800),e(g(!0)),console.log("Neko Get Me Success!",r.name)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),e(k(t.t0.message)),console.log("Neko Get Me Error!",t.t0);case 13:case"end":return t.stop()}}),null,null,[[2,9]])}},T=function(){var e=Object(m.c)((function(e){return e.signIn})),t=Object(m.b)(),n=Object(r.useState)("test@emali.nya"),c=Object(s.a)(n,2),o=c[0],l=c[1],f=Object(r.useState)("test password nya"),b=Object(s.a)(f,2),v=b[0],p=b[1],h=Object(r.useState)(!1),y=Object(s.a)(h,2),C=y[0],I=y[1];Object(r.useEffect)((function(){t(N())}),[]);var x=Object(r.useState)(!1),T=Object(s.a)(x,2),G=T[0],F=T[1];return e.success&&setTimeout((function(){return F(!0)}),500),G?(setTimeout((function(){t(g(!1))}),500),a.a.createElement(u.a,{to:Z})):a.a.createElement(i,{email:o,password:v,loading:e.loading,success:e.success,error:e.error,rememberMe:C,signInRememberMeCallback:I,signInSetEmailCallback:l,signInSetPasswordCallback:p,signInCallback:function(){j(o)?R(v)?t(function(e,t,n){return function(r,a){var c;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:"SIGN_IN/LOADING",loading:!0}),a.prev=1,a.next=4,E.a.awrap(O(e,S(t),n));case 4:(c=a.sent).error?r(d(c.error)):(r(k(c.name)),w("token",c.token,172800),r(g(!0)),console.log("Neko Sign-in Success!",c)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),r(d(a.t0.message)),console.log("Neko Sign-in Error!",a.t0);case 12:case"end":return a.stop()}}),null,null,[[1,8]])}}(o,v,C)):t(d("Password not valid! must be more than 7 characters...")):t(d("Email not valid!"))}})},G=function(){return a.a.createElement(T,null)},F=function(e){var t=e.email,n=e.password,r=e.password2,c=e.loading,o=e.success,l=e.error,s=e.registerSetEmailCallback,u=e.registerSetPasswordCallback,i=e.registerSetPasswordCallback2,m=e.registerCallback;return"string"!==typeof l&&(l=JSON.stringify(l)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"register",c&&a.a.createElement("div",{style:{color:"orange"}},"loading..."),o&&a.a.createElement("div",{style:{color:"lime"}},"Success!"),l&&a.a.createElement("div",{style:{color:"red"}},l),a.a.createElement("div",null,a.a.createElement("input",{value:t,onChange:function(e){return s(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("input",{value:n,onChange:function(e){return u(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("input",{value:r,onChange:function(e){return i(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("button",{onClick:m},"Register")))},L=function(e){return{type:"REGISTER/SUCCESS",success:e}},M=function(e){return{type:"REGISTER/ERROR",error:e}},A=v.a.create({baseURL:p}),U=function(e,t){var n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.a.awrap(A.post("/auth/register",{email:e,password:t}));case 2:return n=r.sent,r.abrupt("return",n.data);case 4:case"end":return r.stop()}}))},_=function(){var e=Object(m.c)((function(e){return e.register})),t=Object(m.b)(),n=Object(r.useState)("test@emali.nya"),c=Object(s.a)(n,2),o=c[0],l=c[1],i=Object(r.useState)("test password nya"),g=Object(s.a)(i,2),d=g[0],f=g[1],b=Object(r.useState)("test password nya2"),v=Object(s.a)(b,2),p=v[0],h=v[1],O=Object(r.useState)(!1),k=Object(s.a)(O,2),w=k[0],y=k[1];return e.success&&setTimeout((function(){return y(!0)}),500),w?(setTimeout((function(){t(L(!1))}),500),a.a.createElement(u.a,{to:V})):a.a.createElement(F,{email:o,password:d,password2:p,loading:e.loading,success:e.success,error:e.error,registerSetEmailCallback:l,registerSetPasswordCallback:f,registerSetPasswordCallback2:h,registerCallback:function(){j(o)?R(d)?t(d!==p?M("Passwords do not match!"):function(e,t){return function(n,r){var a;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"REGISTER/LOADING",loading:!0}),r.prev=1,r.next=4,E.a.awrap(U(e,S(t)));case 4:(a=r.sent).error?n(M(a.error)):(n(L(!0)),console.log("Neko Register Success!",a)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),n(M(r.t0.message)),console.log("Neko Register Error!",r.t0);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}}(o,d)):t(M("Password not valid! must be more than 7 characters...")):t(M("Email not valid!"))}})},P=function(){return a.a.createElement(_,null)},D=function(e){var t=e.email,n=e.loading,r=e.success,c=e.error,o=e.forgotSetEmailCallback,l=e.forgotCallback;return"string"!==typeof c&&(c=JSON.stringify(c)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"forgot",n&&a.a.createElement("div",{style:{color:"orange"}},"loading..."),r&&a.a.createElement("div",{style:{color:"lime"}},"Success!"),c&&a.a.createElement("div",{style:{color:"red"}},c),a.a.createElement("div",null,a.a.createElement("input",{value:t,onChange:function(e){return o(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("button",{onClick:l},"Send email")))},J=function(e){return{type:"FORGOT/SUCCESS",success:e}},$=function(e){return{type:"FORGOT/ERROR",error:e}},B=v.a.create({baseURL:p}),K=function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(B.post("/auth/forgot",{email:e}));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},W=function(){var e=Object(m.c)((function(e){return e.forgot})),t=Object(m.b)(),n=Object(r.useState)(!1),c=Object(s.a)(n,2),o=c[0],l=c[1];return e.success&&setTimeout((function(){return l(!0)}),500),o?(setTimeout((function(){t(J(!1))}),500),a.a.createElement(u.a,{to:V})):a.a.createElement(D,{email:e.email,loading:e.loading,success:e.success,error:e.error,forgotSetEmailCallback:function(e){return t(function(e){return{type:"FORGOT/SET_EMAIL",email:e}}(e))},forgotCallback:function(){j(e.email)?t((function(e,t){var n,r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"FORGOT/LOADING",loading:!0}),n=t().forgot.email,a.prev=2,a.next=5,E.a.awrap(K(n));case 5:(r=a.sent).error?e($(r.error)):(e(J(!0)),console.log("Neko Forgot Success!",r)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),e($(a.t0.message)),console.log("Neko Forgot Error!",a.t0);case 13:case"end":return a.stop()}}),null,null,[[2,9]])})):t($("Email not valid!"))}})},z=function(){return a.a.createElement(W,null)},q=function(e){var t=e.name,n=e.logoutCallback;return a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"neko",t&&a.a.createElement("div",{style:{color:"lime"}},t),a.a.createElement("div",null,a.a.createElement("button",{onClick:n},"logout")))},H=function(){var e=Object(m.c)((function(e){return e.neko})),t=Object(m.b)();Object(r.useEffect)((function(){t(N())}),[]);var n=Object(r.useState)(!1),c=Object(s.a)(n,2),o=c[0],l=c[1],i=Object(r.useState)(!1),g=Object(s.a)(i,2),d=g[0],f=g[1];return Object(r.useEffect)((function(){y("token")?f(!0):l(!0)}),[e]),o?a.a.createElement(u.a,{to:V}):d?a.a.createElement(q,{name:e.name,logoutCallback:function(){w("token","",-1e3),t(k(""))}}):a.a.createElement("div",null,"Loading...")},Q=function(){return a.a.createElement(H,null)},V="/neko-login-register-forgot/sign-in",X="/neko-login-register-forgot/register",Y="/neko-login-register-forgot/forgot",Z="/neko-login-register-forgot/neko",ee=function(){return a.a.createElement("div",null,a.a.createElement(u.b,{exact:!0,path:"/neko-login-register-forgot",render:function(){return a.a.createElement(u.a,{to:V})}}),a.a.createElement(u.b,{path:V,render:function(){return a.a.createElement(G,null)}}),a.a.createElement(u.b,{path:X,render:function(){return a.a.createElement(P,null)}}),a.a.createElement(u.b,{path:Y,render:function(){return a.a.createElement(z,null)}}),a.a.createElement(u.b,{path:Z,render:function(){return a.a.createElement(Q,null)}}))},te=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"space-around"}},a.a.createElement("button",{onClick:function(){return c(!n)}},n?"hide dev header":"show dev header"),n&&a.a.createElement(l.b,{to:V},"sign-in"),n&&a.a.createElement(l.b,{to:X},"register"),n&&a.a.createElement(l.b,{to:Y},"forgot"),n&&a.a.createElement(l.b,{to:Z},"neko"),n&&a.a.createElement("button",{onClick:function(){return w("token","xxx",172800)}},"add token"))},ne=function(){return a.a.createElement("div",null,a.a.createElement(te,null),a.a.createElement(ee,null))},re=n(16),ae=n(36),ce=n(5),oe={loading:!1,success:!1,error:""},le={loading:!1,success:!1,error:""},se={email:"test@email.com",loading:!1,success:!1,error:""},ue={name:"test name"},ie=Object(re.c)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN/LOADING":return Object(ce.a)({},e,{loading:t.loading,error:"",success:!1});case"SIGN_IN/SUCCESS":return Object(ce.a)({},e,{loading:!1,success:t.success,error:""});case"SIGN_IN/ERROR":return Object(ce.a)({},e,{loading:!1,success:!1,error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/LOADING":return Object(ce.a)({},e,{loading:t.loading,error:"",success:!1});case"REGISTER/SUCCESS":return Object(ce.a)({},e,{loading:!1,success:t.success,error:""});case"REGISTER/ERROR":return Object(ce.a)({},e,{loading:!1,success:!1,error:t.error});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT/SET_EMAIL":return Object(ce.a)({},e,{email:t.email,error:"",success:!1});case"FORGOT/LOADING":return Object(ce.a)({},e,{loading:t.loading,error:"",success:!1});case"FORGOT/SUCCESS":return Object(ce.a)({},e,{loading:!1,success:t.success,error:""});case"FORGOT/ERROR":return Object(ce.a)({},e,{loading:!1,success:!1,error:t.error});default:return e}},neko:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEKO/SET_NAME":return Object(ce.a)({},e,{name:t.name});default:return e}}}),me=Object(re.d)(ie,Object(re.a)(ae.a)),ge=me;window.store=me;var de=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(l.a,null,a.a.createElement(m.a,{store:ge},a.a.createElement(ne,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.ca4e759c.chunk.js.map
(this["webpackJsonplogin-register-forgot"]=this["webpackJsonplogin-register-forgot"]||[]).push([[0],{37:function(e,t,r){e.exports=r(67)},42:function(e,t,r){},43:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(18),o=r.n(c),s=(r(42),r(43),r(11)),l=function(){return a.a.createElement("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"space-around"}},a.a.createElement(s.b,{to:"/sign-in"},"sign-in"),a.a.createElement(s.b,{to:"/register"},"register"),a.a.createElement(s.b,{to:"/forgot"},"forgot"),a.a.createElement(s.b,{to:"/neko"},"neko"))},i=r(4),u=r(13),m=function(e){var t=e.email,r=e.password,n=e.loading,c=e.success,o=e.error,l=e.rememberMe,i=e.signInRememberMeCallback,u=e.signInSetEmailCallback,m=e.signInSetPasswordCallback,d=e.signInCallback;return"string"!==typeof o&&(o=JSON.stringify(o)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"sign-in",n&&a.a.createElement("div",{style:{color:"orange"}},"loading..."),c&&a.a.createElement("div",{style:{color:"lime"}},"Success!"),o&&a.a.createElement("div",{style:{color:"red"}},o),a.a.createElement("div",null,a.a.createElement("input",{value:t,onChange:function(e){return u(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("input",{value:r,onChange:function(e){return m(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(s.b,{to:"/forgot"},"Forgot password?")),a.a.createElement("div",null,a.a.createElement("button",{onClick:d},"Sign In")),a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",checked:l,onChange:function(e){return i(e.currentTarget.checked)}}),"Remember Me"),a.a.createElement("div",null,a.a.createElement(s.b,{to:"/register"},"Registration")))},d=r(6),g=function(e){return{type:"SIGN_IN/SUCCESS",success:e}},E=function(e){return{type:"SIGN_IN/ERROR",error:e}},f=r(2),p=r.n(f),b=r(15),v=r.n(b),S=v.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0"}),w=function(e,t,r){var n;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(S.post("/auth/login",{email:e,password:t,rememberMe:r}));case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}))},h=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)^1+(e.length-r)%32);return t},O=function(e){return{type:"NEKO/SET_NAME",name:e}},R=function(e,t,r){document.cookie="".concat(e,"=").concat(t,";max-age=").concat(r,";path=/")},I=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},k=/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,7}$/i,y=function(e){return k.test(e)},C=function(e){return e.length>7},j=v.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0"}),T=function(e){var t;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.awrap(j.post("/auth/me",{token:e}));case 2:return t=r.sent,r.abrupt("return",t.data);case 4:case"end":return r.stop()}}))},N=function(){var e=Object(d.c)((function(e){return e.signIn})),t=Object(d.b)();Object(n.useEffect)((function(){t((function(e,t){var r,n;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e(O("Loading...")),r=I("token")||"",t.prev=2,t.next=5,p.a.awrap(T(r));case 5:n=t.sent,e(O(n.name)),R("token",n.token,172800),e(g(!0)),console.log("Neko Get Me Success!",n.name),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),e(O(t.t0.message)),console.log("Neko Get Me Error!",t.t0);case 16:case"end":return t.stop()}}),null,null,[[2,12]])}))}),[]);var r=Object(n.useState)(!1),c=Object(u.a)(r,2),o=c[0],s=c[1];return e.success&&setTimeout((function(){return s(!0)}),500),o?(setTimeout((function(){t(g(!1))}),500),a.a.createElement(i.a,{to:"/neko"})):a.a.createElement(m,{email:e.email,password:e.password,loading:e.loading,success:e.success,error:e.error,rememberMe:e.rememberMe,signInRememberMeCallback:function(e){return t({type:"SIGN_IN/REMEMBER_ME",rememberMe:e})},signInSetEmailCallback:function(e){return t(function(e){return{type:"SIGN_IN/SET_EMAIL",email:e}}(e))},signInSetPasswordCallback:function(e){return t(function(e){return{type:"SIGN_IN/SET_PASSWORD",password:e}}(e))},signInCallback:function(){y(e.email)?C(e.password)?t((function(e,t){var r,n,a,c,o;return p.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e({type:"SIGN_IN/LOADING",loading:!0}),r=t().signIn,n=r.email,a=r.password,c=r.rememberMe,s.prev=2,s.next=5,p.a.awrap(w(n,h(a),c));case 5:o=s.sent,e(O(o.name)),R("token","xxx",172800),e(g(!0)),console.log("Neko Sign-in Success!",o),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(2),e(E(s.t0.message)),console.log("Neko Sign-in Error!",s.t0);case 16:case"end":return s.stop()}}),null,null,[[2,12]])})):t(E("Password not valid! must be more than 7 characters...")):t(E("Email not valid!"))}})},G=function(){return a.a.createElement(N,null)},x=function(e){var t=e.email,r=e.password,n=e.password2,c=e.loading,o=e.success,s=e.error,l=e.registerSetEmailCallback,i=e.registerSetPasswordCallback,u=e.registerSetPasswordCallback2,m=e.registerCallback;return"string"!==typeof s&&(s=JSON.stringify(s)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"register",c&&a.a.createElement("div",{style:{color:"orange"}},"loading..."),o&&a.a.createElement("div",{style:{color:"lime"}},"Success!"),s&&a.a.createElement("div",{style:{color:"red"}},s),a.a.createElement("div",null,a.a.createElement("input",{value:t,onChange:function(e){return l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("input",{value:r,onChange:function(e){return i(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("input",{value:n,onChange:function(e){return u(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("button",{onClick:m},"Register")))},_=function(e){return{type:"REGISTER/SUCCESS",success:e}},M=function(e){return{type:"REGISTER/ERROR",error:e}},A=v.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0"}),L=function(e,t){var r;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.awrap(A.post("/auth/register",{email:e,password:t}));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}))},F=function(){var e=Object(d.c)((function(e){return e.register})),t=Object(d.b)(),r=Object(n.useState)(!1),c=Object(u.a)(r,2),o=c[0],s=c[1];return e.success&&setTimeout((function(){return s(!0)}),500),o?(setTimeout((function(){t(_(!1))}),500),a.a.createElement(i.a,{to:"/sign-in"})):a.a.createElement(x,{email:e.email,password:e.password,password2:e.password2,loading:e.loading,success:e.success,error:e.error,registerSetEmailCallback:function(e){return t(function(e){return{type:"REGISTER/SET_EMAIL",email:e}}(e))},registerSetPasswordCallback:function(e){return t(function(e){return{type:"REGISTER/SET_PASSWORD",password:e}}(e))},registerSetPasswordCallback2:function(e){return t({type:"REGISTER/SET_PASSWORD_2",password2:e})},registerCallback:function(){y(e.email)?C(e.password)?e.password!==e.password2?t(M("Passwords do not match!")):t((function(e,t){var r,n,a,c;return p.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e({type:"REGISTER/LOADING",loading:!0}),r=t().register,n=r.email,a=r.password,o.prev=2,o.next=5,p.a.awrap(L(n,h(a)));case 5:c=o.sent,e(_(!1)),console.log("Neko Register Success!",c),o.next=14;break;case 10:o.prev=10,o.t0=o.catch(2),e(M(o.t0.message)),console.log("Neko Register Error!",o.t0);case 14:case"end":return o.stop()}}),null,null,[[2,10]])})):t(M("Password not valid! must be more than 7 characters...")):t(M("Email not valid!"))}})},P=function(){return a.a.createElement(F,null)},D=function(e){var t=e.email,r=e.loading,n=e.success,c=e.error,o=e.forgotSetEmailCallback,s=e.forgotCallback;return"string"!==typeof c&&(c=JSON.stringify(c)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"forgot",r&&a.a.createElement("div",{style:{color:"orange"}},"loading..."),n&&a.a.createElement("div",{style:{color:"lime"}},"Success!"),c&&a.a.createElement("div",{style:{color:"red"}},c),a.a.createElement("div",null,a.a.createElement("input",{value:t,onChange:function(e){return o(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement("button",{onClick:s},"Send email")))},U=function(e){return{type:"FORGOT/SUCCESS",success:e}},W=function(e){return{type:"FORGOT/ERROR",error:e}},J=v.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0"}),B=function(e){var t;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.awrap(J.post("/auth/forgot",{email:e}));case 2:return t=r.sent,r.abrupt("return",t.data);case 4:case"end":return r.stop()}}))},$=function(){var e=Object(d.c)((function(e){return e.forgot})),t=Object(d.b)(),r=Object(n.useState)(!1),c=Object(u.a)(r,2),o=c[0],s=c[1];return e.success&&setTimeout((function(){return s(!0)}),500),o?(setTimeout((function(){t(U(!1))}),500),a.a.createElement(i.a,{to:"/sign-in"})):a.a.createElement(D,{email:e.email,loading:e.loading,success:e.success,error:e.error,forgotSetEmailCallback:function(e){return t(function(e){return{type:"FORGOT/SET_EMAIL",email:e}}(e))},forgotCallback:function(){y(e.email)?t((function(e,t){var r,n;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"FORGOT/LOADING",loading:!0}),r=t().forgot.email,a.prev=2,a.next=5,p.a.awrap(B(r));case 5:n=a.sent,e(U(!1)),console.log("Neko Forgot Success!",n),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),e(W(a.t0.message)),console.log("Neko Forgot Error!",a.t0);case 14:case"end":return a.stop()}}),null,null,[[2,10]])})):t(W("Email not valid!"))}})},K=function(){return a.a.createElement($,null)},z=function(e){var t=e.name,r=e.logoutCallback;return a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"neko",t&&a.a.createElement("div",{style:{color:"lime"}},t),a.a.createElement("div",null,a.a.createElement("button",{onClick:r},"logout")))},q=function(){var e=Object(d.c)((function(e){return e.neko})),t=Object(d.b)(),r=Object(n.useState)(!1),c=Object(u.a)(r,2),o=c[0],s=c[1],l=Object(n.useState)(!1),m=Object(u.a)(l,2),g=m[0],E=m[1];return Object(n.useEffect)((function(){I("token")?E(!0):s(!0)}),[e]),o?a.a.createElement(i.a,{to:"/sign-in"}):g?a.a.createElement(z,{name:e.name,logoutCallback:function(){R("token","",-1e3),t(O(""))}}):a.a.createElement("div",null,"Loading...")},H=function(){return a.a.createElement(q,null)},Q=function(){return a.a.createElement("div",null,a.a.createElement(i.b,{exact:!0,path:"/",render:function(){return a.a.createElement(i.a,{to:"/sign-in"})}}),a.a.createElement(i.b,{path:"/sign-in",render:function(){return a.a.createElement(G,null)}}),a.a.createElement(i.b,{path:"/register",render:function(){return a.a.createElement(P,null)}}),a.a.createElement(i.b,{path:"/forgot",render:function(){return a.a.createElement(K,null)}}),a.a.createElement(i.b,{path:"/neko",render:function(){return a.a.createElement(H,null)}}))},V=function(){return a.a.createElement("div",null,a.a.createElement(l,null),a.a.createElement(Q,null))},X=r(16),Y=r(36),Z=r(3),ee={email:"test@email.com",password:"test password",loading:!1,success:!1,error:"",rememberMe:!1},te={email:"test@email.com",password:"test password",password2:"test password2",loading:!1,success:!1,error:""},re={email:"test@email.com",loading:!1,success:!1,error:""},ne={name:"test name"},ae=Object(X.c)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN/SET_EMAIL":return Object(Z.a)({},e,{email:t.email,error:"",success:!1});case"SIGN_IN/SET_PASSWORD":return Object(Z.a)({},e,{password:t.password,error:"",success:!1});case"SIGN_IN/LOADING":return Object(Z.a)({},e,{loading:t.loading,error:"",success:!1});case"SIGN_IN/SUCCESS":return Object(Z.a)({},e,{loading:!1,success:t.success,error:""});case"SIGN_IN/ERROR":return Object(Z.a)({},e,{loading:!1,success:!1,error:t.error});case"SIGN_IN/REMEMBER_ME":return Object(Z.a)({},e,{loading:!1,success:!1,error:"",rememberMe:t.rememberMe});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/SET_EMAIL":return Object(Z.a)({},e,{email:t.email,error:"",success:!1});case"REGISTER/SET_PASSWORD":return Object(Z.a)({},e,{password:t.password,error:"",success:!1});case"REGISTER/SET_PASSWORD_2":return Object(Z.a)({},e,{password2:t.password2,error:"",success:!1});case"REGISTER/LOADING":return Object(Z.a)({},e,{loading:t.loading,error:"",success:!1});case"REGISTER/SUCCESS":return Object(Z.a)({},e,{loading:!1,success:t.success,error:""});case"REGISTER/ERROR":return Object(Z.a)({},e,{loading:!1,success:!1,error:t.error});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT/SET_EMAIL":return Object(Z.a)({},e,{email:t.email,error:"",success:!1});case"FORGOT/LOADING":return Object(Z.a)({},e,{loading:t.loading,error:"",success:!1});case"FORGOT/SUCCESS":return Object(Z.a)({},e,{loading:!1,success:t.success,error:""});case"FORGOT/ERROR":return Object(Z.a)({},e,{loading:!1,success:!1,error:t.error});default:return e}},neko:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEKO/SET_NAME":return Object(Z.a)({},e,{name:t.name});default:return e}}}),ce=Object(X.d)(ae,Object(X.a)(Y.a)),oe=ce;window.store=ce;var se=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(s.a,null,a.a.createElement(d.a,{store:oe},a.a.createElement(V,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.67c10ea7.chunk.js.map
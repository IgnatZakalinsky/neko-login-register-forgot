(this["webpackJsonplogin-register-forgot"]=this["webpackJsonplogin-register-forgot"]||[]).push([[0],{37:function(e,t,n){e.exports=n(67)},42:function(e,t,n){},43:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),o=n.n(c),l=(n(42),n(43),n(12)),s=n(3),u=n(4),i=function(e){var t=e.loading,n=e.error,r=e.success,c=e.email,o=e.password,s=e.rememberMe,u=e.signInSetEmailCallback,i=e.signInSetPasswordCallback,g=e.signInRememberMeCallback,m=e.signInCallback;return"string"!==typeof n&&(n=JSON.stringify(n)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"sign-in",t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):n?a.a.createElement("div",{style:{color:"red"}},n):r?a.a.createElement("div",{style:{color:"lime"}},"Success!"):a.a.createElement("div",null,a.a.createElement("br",null)),a.a.createElement("input",{value:c,onChange:function(e){return u(e.currentTarget.value)}}),a.a.createElement("input",{value:o,onChange:function(e){return i(e.currentTarget.value)}}),a.a.createElement(l.b,{to:Z},"Forgot password?"),a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",checked:s,onChange:function(e){return g(e.currentTarget.checked)}}),"Remember Me"),a.a.createElement("button",{onClick:m},"Sign In"),a.a.createElement(l.b,{to:Y},"Registration"))},g=n(7),m=function(e){return{type:"SIGN_IN/ERROR",error:e}},d=function(e){return{type:"SIGN_IN/SUCCESS",success:e}},f=n(2),E=n.n(f),b=n(15),p=n.n(b),v="https://ancient-gorge-20298.herokuapp.com/",O=p.a.create({baseURL:v}),h=function(e,t,n){var r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(O.post("/auth/login",{email:e,password:t,rememberMe:n}));case 2:return r=a.sent,a.abrupt("return",r.data);case 4:case"end":return a.stop()}}))},S=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)^1+(e.length-n)%32);return t},y=function(e){return{type:"NEKO/ERROR",error:e}},k=function(e){return{type:"NEKO/SET_NAME",name:e}},w=function(e,t,n){document.cookie="".concat(e,"=").concat(t,";max-age=").concat(n,";path=/")},j=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},C=/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,7}$/i,R=function(e){return C.test(e)},I=function(e){return e.length>7},N=p.a.create({baseURL:v}),x=function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(N.post("/auth/me",{token:e}));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},G=function(){return function(e,t){var n,r;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"NEKO/LOADING",loading:!0}),n=j("token")||"",t.prev=2,t.next=5,E.a.awrap(x(n));case 5:(r=t.sent).error?(e(y(r.error)),w("token","",-1e3),console.log("Neko Get Me Error!",r.error,n)):(w("token",r.token,172800),e(k(r.name)),e(d(!0)),console.log("Neko Get Me Success!",r.name)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),e(y(t.t0.message)),console.log("Neko Get Me Error!",t.t0);case 13:case"end":return t.stop()}}),null,null,[[2,9]])}},T=function(){var e=Object(g.c)((function(e){return e.signIn})),t=e.loading,n=e.error,c=e.success,o=Object(g.b)(),l=Object(r.useState)("test@emali.nya"),f=Object(s.a)(l,2),b=f[0],p=f[1],v=Object(r.useState)("test password nya"),O=Object(s.a)(v,2),y=O[0],j=O[1],C=Object(r.useState)(!1),N=Object(s.a)(C,2),x=N[0],T=N[1],F=Object(r.useState)(!1),L=Object(s.a)(F,2),A=L[0],M=L[1];Object(r.useEffect)((function(){o(G())}),[]);return c&&setTimeout((function(){M(!0)}),500),A?(setTimeout((function(){o(d(!1))}),500),a.a.createElement(u.a,{to:ee})):a.a.createElement(i,{loading:t,error:n,success:c,email:b,password:y,rememberMe:x,signInSetEmailCallback:p,signInSetPasswordCallback:j,signInRememberMeCallback:T,signInCallback:function(){R(b)?I(y)?o(function(e,t,n){return function(r,a){var c;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:"SIGN_IN/LOADING",loading:!0}),a.prev=1,a.next=4,E.a.awrap(h(e,S(t),n));case 4:(c=a.sent).error?r(m(c.error)):(r(k(c.name)),w("token",c.token,172800),r(d(!0)),console.log("Neko Sign-in Success!",c)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),r(m(a.t0.message)),console.log("Neko Sign-in Error!",a.t0);case 12:case"end":return a.stop()}}),null,null,[[1,8]])}}(b,y,x)):o(m("Password not valid! must be more than 7 characters...")):o(m("Email not valid!"))}})},F=function(){return a.a.createElement(T,null)},L=function(e){var t=e.loading,n=e.error,r=e.success,c=e.email,o=e.password,l=e.password2,s=e.registerSetEmailCallback,u=e.registerSetPasswordCallback,i=e.registerSetPasswordCallback2,g=e.registerCallback;return"string"!==typeof n&&(n=JSON.stringify(n)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"register",t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):n?a.a.createElement("div",{style:{color:"red"}},n):r?a.a.createElement("div",{style:{color:"lime"}},"Success!"):a.a.createElement("div",null,a.a.createElement("br",null)),a.a.createElement("input",{value:c,onChange:function(e){return s(e.currentTarget.value)}}),a.a.createElement("input",{value:o,onChange:function(e){return u(e.currentTarget.value)}}),a.a.createElement("input",{value:l,onChange:function(e){return i(e.currentTarget.value)}}),a.a.createElement("button",{onClick:g},"Register"))},A=function(e){return{type:"REGISTER/ERROR",error:e}},M=function(e){return{type:"REGISTER/SUCCESS",success:e}},U=p.a.create({baseURL:v}),P=function(e,t){var n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.a.awrap(U.post("/auth/register",{email:e,password:t}));case 2:return n=r.sent,r.abrupt("return",n.data);case 4:case"end":return r.stop()}}))},D=function(){var e=Object(g.c)((function(e){return e.register})),t=e.loading,n=e.error,c=e.success,o=Object(g.b)(),l=Object(r.useState)("test@emali.nya"),i=Object(s.a)(l,2),m=i[0],d=i[1],f=Object(r.useState)("test password nya"),b=Object(s.a)(f,2),p=b[0],v=b[1],O=Object(r.useState)("test password nya2"),h=Object(s.a)(O,2),y=h[0],k=h[1],w=Object(r.useState)(!1),j=Object(s.a)(w,2),C=j[0],N=j[1];return c&&setTimeout((function(){return N(!0)}),500),C?(setTimeout((function(){o(M(!1))}),500),a.a.createElement(u.a,{to:X})):a.a.createElement(L,{loading:t,error:n,success:c,email:m,password:p,password2:y,registerSetEmailCallback:d,registerSetPasswordCallback:v,registerSetPasswordCallback2:k,registerCallback:function(){R(m)?I(p)?o(p!==y?A("Passwords do not match!"):function(e,t){return function(n,r){var a;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"REGISTER/LOADING",loading:!0}),r.prev=1,r.next=4,E.a.awrap(P(e,S(t)));case 4:(a=r.sent).error?n(A(a.error)):(n(M(!0)),console.log("Neko Register Success!",a)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),n(A(r.t0.message)),console.log("Neko Register Error!",r.t0);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}}(m,p)):o(A("Password not valid! must be more than 7 characters...")):o(A("Email not valid!"))}})},_=function(){return a.a.createElement(D,null)},K=function(e){var t=e.loading,n=e.error,r=e.success,c=e.email,o=e.forgotSetEmailCallback,l=e.forgotCallback;return"string"!==typeof n&&(n=JSON.stringify(n)),a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"forgot",t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):n?a.a.createElement("div",{style:{color:"red"}},n):r?a.a.createElement("div",{style:{color:"lime"}},"Success!"):a.a.createElement("div",null,a.a.createElement("br",null)),a.a.createElement("input",{value:c,onChange:function(e){return o(e.currentTarget.value)}}),a.a.createElement("button",{onClick:l},"Send email"))},J=function(e){return{type:"FORGOT/ERROR",error:e}},$=function(e){return{type:"FORGOT/SUCCESS",success:e}},W=p.a.create({baseURL:v}),B=function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(W.post("/auth/forgot",{email:e}));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},z=function(){var e=Object(g.c)((function(e){return e.forgot})),t=e.loading,n=e.error,c=e.success,o=Object(g.b)(),l=Object(r.useState)("test@emali.nya"),i=Object(s.a)(l,2),m=i[0],d=i[1],f=Object(r.useState)(!1),b=Object(s.a)(f,2),p=b[0],v=b[1];return c&&setTimeout((function(){return v(!0)}),500),p?(setTimeout((function(){o($(!1))}),500),a.a.createElement(u.a,{to:X})):a.a.createElement(K,{loading:t,error:n,success:c,email:m,forgotSetEmailCallback:d,forgotCallback:function(){R(m)?o(function(e){return function(t,n){var r;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"FORGOT/LOADING",loading:!0}),n.prev=1,n.next=4,E.a.awrap(B(e));case 4:(r=n.sent).error?t(J(r.error)):(t($(!0)),console.log("Neko Forgot Success!",r)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(J(n.t0.message)),console.log("Neko Forgot Error!",n.t0);case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}(m)):o(J("Email not valid!"))}})},q=function(){return a.a.createElement(z,null)},H=function(e){var t=e.loading,n=e.error,r=e.name,c=e.logoutCallback;return a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},"neko",t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):n?a.a.createElement("div",{style:{color:"red"}},n):r?a.a.createElement("div",{style:{color:"lime"}},r):a.a.createElement("div",null,a.a.createElement("br",null)),a.a.createElement("button",{onClick:c},"logout"))},Q=function(){var e=Object(g.c)((function(e){return e.neko})),t=e.name,n=e.loading,c=e.error,o=Object(g.b)(),l=Object(r.useState)(!1),i=Object(s.a)(l,2),m=i[0],d=i[1],f=Object(r.useState)(!1),E=Object(s.a)(f,2),b=E[0],p=E[1];Object(r.useEffect)((function(){o(G())}),[]),Object(r.useEffect)((function(){j("token")?d(!0):p(!0)}),[t]);return b?a.a.createElement(u.a,{to:X}):m?a.a.createElement(H,{loading:n,error:c,name:t,logoutCallback:function(){w("token","",-1e3),o(k(""))}}):a.a.createElement("div",{style:{height:"80vh",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",color:"orange"}},"Loading...")},V=function(){return a.a.createElement(Q,null)},X="/sign-in",Y="/register",Z="/forgot",ee="/neko",te=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.b,{exact:!0,path:"/",render:function(){return a.a.createElement(u.a,{to:X})}}),a.a.createElement(u.b,{path:X,render:function(){return a.a.createElement(F,null)}}),a.a.createElement(u.b,{path:Y,render:function(){return a.a.createElement(_,null)}}),a.a.createElement(u.b,{path:Z,render:function(){return a.a.createElement(q,null)}}),a.a.createElement(u.b,{path:ee,render:function(){return a.a.createElement(V,null)}}))},ne=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap"}},a.a.createElement("button",{onClick:function(){return c(!n)}},n?"hide dev header":"show dev header"),n&&a.a.createElement(l.b,{to:X},"sign-in"),n&&a.a.createElement(l.b,{to:Y},"register"),n&&a.a.createElement(l.b,{to:Z},"forgot"),n&&a.a.createElement(l.b,{to:ee},"neko"))},re=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ne,null),a.a.createElement(te,null))},ae=n(16),ce=n(36),oe=n(5),le={loading:!1,error:"",success:!1},se={loading:!1,error:"",success:!1},ue={loading:!1,error:"",success:!1},ie={loading:!1,error:"",name:"test name"},ge=Object(ae.c)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN/LOADING":return Object(oe.a)({},e,{loading:t.loading,error:"",success:!1});case"SIGN_IN/SUCCESS":return Object(oe.a)({},e,{loading:!1,error:"",success:t.success});case"SIGN_IN/ERROR":return Object(oe.a)({},e,{loading:!1,error:t.error,success:!1});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/LOADING":return Object(oe.a)({},e,{loading:t.loading,error:"",success:!1});case"REGISTER/SUCCESS":return Object(oe.a)({},e,{loading:!1,error:"",success:t.success});case"REGISTER/ERROR":return Object(oe.a)({},e,{loading:!1,error:t.error,success:!1});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT/LOADING":return Object(oe.a)({},e,{loading:t.loading,error:"",success:!1});case"FORGOT/SUCCESS":return Object(oe.a)({},e,{loading:!1,error:"",success:t.success});case"FORGOT/ERROR":return Object(oe.a)({},e,{loading:!1,error:t.error,success:!1});default:return e}},neko:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEKO/LOADING":return Object(oe.a)({},e,{loading:t.loading,error:""});case"NEKO/ERROR":return Object(oe.a)({},e,{loading:!1,error:t.error});case"NEKO/SET_NAME":return Object(oe.a)({},e,{name:t.name,loading:!1,error:""});default:return e}}}),me=Object(ae.d)(ge,Object(ae.a)(ce.a)),de=me;window.store=me;var fe=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(l.a,null,a.a.createElement(g.a,{store:de},a.a.createElement(re,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.c9ae04ae.chunk.js.map